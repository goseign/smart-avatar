module.exports=function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=1)}([function(t,r){function e(t){var r,e=parseInt(t,10);switch(!0){case!isNaN(e):r=e.toString();break;default:r="80"}return r}t.exports.parseColor=function(t){return t},t.exports.parseColorScheme=function(t){return t},t.exports.parseCssClass=function(t){let r=[];return t&&(r=t.split(" ")),r},t.exports.parseEmail=function(t){return-1!=t.indexOf("@")?t.trim().toLowerCase():null},t.exports.parseGravatarURIRes=function(t){return"s="+e(t.toString())},t.exports.parseImgFormat=function(t){var r;switch(!0){case-1!=t.toLowerCase().indexOf("png"):r="png";break;case-1!=t.toLowerCase().indexOf("jpg")||-1!=t.toLowerCase().indexOf("jpeg"):r="jpg";break;case-1!=t.toLowerCase().indexOf("tiff"):r="tiff";break;default:r="jpg"}return r},t.exports.parseImgRes=e,t.exports.parseInitials=function(t){var r;if(t.length>1&&-1!=t.indexOf(" ")){var e=t.split(" ");r=e[0][0]+e[1][0]}else r=t.length>1?t[0]+t[1]:t;return r.toUpperCase()},t.exports.parsePriority=function(t){var r=["gravatar","src","smart"],e={};for(let n=0;n<t.length;n++){if(-1!=r.indexOf(t[n].toString())&&-1===Object.values(e).indexOf(t[n].toString()))e["src"+(n+1)]=t[n].toString()}return e},t.exports.parseProtocol=function(t){var r;switch(t){case"agnostic":r="//";break;case"secure":r="https://";break;case"unsecure":r="http://";break;default:r="https://"}return r}},function(t,r,e){t.exports=e(2)},function(t,r,e){var{md5:n}=e(3),{parseColor:o,parseColorScheme:s,parseCssClass:a,parseEmail:i,parseImgFormat:l,parseImgRes:c,parseInitials:u,parsePriority:f,parseProtocol:p}=e(0),{generateGravatarUrl:d}=e(4),{renderSA:m}=e(5);function h(t,r){var e={};if(!arguments[1])r={};if(!arguments.length)throw new Error("SmartAvatar ERROR: missing 'element' argument.");if("dispose"!==arguments[1]){if(arguments[1]&&"object"!=typeof arguments[1])throw new Error("SmartAvatar ERROR: 'options' argument must be an object.");var h=function(t){return t instanceof Element||t instanceof HTMLDocument};if(!h(t)){var v=typeof t;throw new Error("SmartAvatar ERROR: cannot append asset to "+v+".")}e.parent=t,e.priority=r.priority?f(r.priority):{src1:"gravatar",src2:"src",src3:"smart"},e.timestamp="boolean"==typeof r.timestamp&&r.timestamp,e.alt=r.alt?r.alt.toString():null,e.icon=r.icon?r.icon.toString():"smartfox",e.size=r.size?c(r.size.toString()):null,e.round=!0===r.round,e.initials=r.initials?u(r.initials.toString()):null,e.color=r.color?o(r.color.toString()):null,e.textColor=r.textColor?o(r.textColor.toString()):null,e.colorScheme=r.colorScheme?s(r.colorScheme):null,e.cssClass=r.cssClass?a(r.cssClass.toString()):null,e.email=r.email?i(r.email.toString()):null,e.hash=!!r.hash&&r.hash.toString()||(e.email?n(e.email):null),e.protocol=r.protocol?p(r.protocol.toString()):"secure",e.format=r.format?l(r.format.toString()):"jpg",e.resolution=r.resolution?c(r.resolution.toString()):"80",e.src=r.src?r.src.toString():null,e.unstyled=!0===r.unstyled,!e.unstyled&&r.setDefaults&&(e.color=e.color||"#AAA",e.size=e.size||"48",e.textColor=e.textColor||"#FFF"),e.gravatarUrl=e.hash?d(e):"";var g=m(t,e);t.appendChild(g)}else{const r=t.querySelectorAll(".smart-avatar");for(let e=0;e<r.length;e++)t.removeChild(r[e]);if(t.querySelectorAll(".smart-avatar").length>0)throw new Error("SmartAvatar ERROR: could not dispose SmartAvatar nodes."+t.querySelectorAll(".smart-avatar").length+"left.")}}t.exports=h,t.exports.default=h},function(t,r){function e(t,r){var e=t[0],n=t[1],l=t[2],c=t[3];e=o(e,n,l,c,r[0],7,-680876936),c=o(c,e,n,l,r[1],12,-389564586),l=o(l,c,e,n,r[2],17,606105819),n=o(n,l,c,e,r[3],22,-1044525330),e=o(e,n,l,c,r[4],7,-176418897),c=o(c,e,n,l,r[5],12,1200080426),l=o(l,c,e,n,r[6],17,-1473231341),n=o(n,l,c,e,r[7],22,-45705983),e=o(e,n,l,c,r[8],7,1770035416),c=o(c,e,n,l,r[9],12,-1958414417),l=o(l,c,e,n,r[10],17,-42063),n=o(n,l,c,e,r[11],22,-1990404162),e=o(e,n,l,c,r[12],7,1804603682),c=o(c,e,n,l,r[13],12,-40341101),l=o(l,c,e,n,r[14],17,-1502002290),e=s(e,n=o(n,l,c,e,r[15],22,1236535329),l,c,r[1],5,-165796510),c=s(c,e,n,l,r[6],9,-1069501632),l=s(l,c,e,n,r[11],14,643717713),n=s(n,l,c,e,r[0],20,-373897302),e=s(e,n,l,c,r[5],5,-701558691),c=s(c,e,n,l,r[10],9,38016083),l=s(l,c,e,n,r[15],14,-660478335),n=s(n,l,c,e,r[4],20,-405537848),e=s(e,n,l,c,r[9],5,568446438),c=s(c,e,n,l,r[14],9,-1019803690),l=s(l,c,e,n,r[3],14,-187363961),n=s(n,l,c,e,r[8],20,1163531501),e=s(e,n,l,c,r[13],5,-1444681467),c=s(c,e,n,l,r[2],9,-51403784),l=s(l,c,e,n,r[7],14,1735328473),e=a(e,n=s(n,l,c,e,r[12],20,-1926607734),l,c,r[5],4,-378558),c=a(c,e,n,l,r[8],11,-2022574463),l=a(l,c,e,n,r[11],16,1839030562),n=a(n,l,c,e,r[14],23,-35309556),e=a(e,n,l,c,r[1],4,-1530992060),c=a(c,e,n,l,r[4],11,1272893353),l=a(l,c,e,n,r[7],16,-155497632),n=a(n,l,c,e,r[10],23,-1094730640),e=a(e,n,l,c,r[13],4,681279174),c=a(c,e,n,l,r[0],11,-358537222),l=a(l,c,e,n,r[3],16,-722521979),n=a(n,l,c,e,r[6],23,76029189),e=a(e,n,l,c,r[9],4,-640364487),c=a(c,e,n,l,r[12],11,-421815835),l=a(l,c,e,n,r[15],16,530742520),e=i(e,n=a(n,l,c,e,r[2],23,-995338651),l,c,r[0],6,-198630844),c=i(c,e,n,l,r[7],10,1126891415),l=i(l,c,e,n,r[14],15,-1416354905),n=i(n,l,c,e,r[5],21,-57434055),e=i(e,n,l,c,r[12],6,1700485571),c=i(c,e,n,l,r[3],10,-1894986606),l=i(l,c,e,n,r[10],15,-1051523),n=i(n,l,c,e,r[1],21,-2054922799),e=i(e,n,l,c,r[8],6,1873313359),c=i(c,e,n,l,r[15],10,-30611744),l=i(l,c,e,n,r[6],15,-1560198380),n=i(n,l,c,e,r[13],21,1309151649),e=i(e,n,l,c,r[4],6,-145523070),c=i(c,e,n,l,r[11],10,-1120210379),l=i(l,c,e,n,r[2],15,718787259),n=i(n,l,c,e,r[9],21,-343485551),t[0]=f(e,t[0]),t[1]=f(n,t[1]),t[2]=f(l,t[2]),t[3]=f(c,t[3])}function n(t,r,e,n,o,s){return r=f(f(r,t),f(n,s)),f(r<<o|r>>>32-o,e)}function o(t,r,e,o,s,a,i){return n(r&e|~r&o,t,r,s,a,i)}function s(t,r,e,o,s,a,i){return n(r&o|e&~o,t,r,s,a,i)}function a(t,r,e,o,s,a,i){return n(r^e^o,t,r,s,a,i)}function i(t,r,e,o,s,a,i){return n(e^(r|~o),t,r,s,a,i)}function l(t){var r,e=[];for(r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e}var c="0123456789abcdef".split("");function u(t){for(var r="",e=0;e<4;e++)r+=c[t>>8*e+4&15]+c[t>>8*e&15];return r}function f(t,r){return t+r&4294967295}t.exports.md5=function(t){return function(t){for(var r=0;r<t.length;r++)t[r]=u(t[r]);return t.join("")}(function(t){var r,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)e(o,l(t.substring(r-64,r)));t=t.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)s[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(e(o,s),r=0;r<16;r++)s[r]=0;return s[14]=8*n,e(o,s),o}(t))}},function(t,r,e){var{parseProtocol:n,parseImgFormat:o,parseGravatarURIRes:s}=e(0);t.exports.generateGravatarUrl=function(t){var r=n(t.protocol),e=o(t.format),a="?d=404&"+s(t.resolution);return r+"www.gravatar.com/avatar/"+t.hash+"."+e+a}},function(t,r){function e(t,r){switch(t){case"iconImg":return function(t){var r=new Image,e=n(t.icon);r.src=e,t.unstyled||(r.style.cssText=(t.round?"border-radius: 50%;":"")+(t.size?"height:"+t.size+"px;width:"+t.size+"px;":"")+"object-fit:cover;");if(r.classList.add("smart-avatar"),t.cssClass){const e=t.cssClass.length;for(let n=0;n<e;n++)r.classList.add(t.cssClass[n])}t.timestamp&&r.setAttribute("sa_timestamp",Date.now());t.alt&&(r.alt=t.alt);return r}(r);case"initEl":return function(t){return o("initEl",t)}(r);case"iconEl":return function(t){return o("iconEl",t)}(r)}}function n(t){return"https://www.gravatar.com/avatar?d="+t+"&f=y"}function o(t,r){var e;"initEl"===t?e=r.initials:"iconEl"===t&&(e='<svg viewBox="0 0 600 600" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="300" cy="300" r="144" fill="#DE8927" stroke="#333" stroke-width="12"/><rect x="236" y="231" width="24" height="36" rx="12" fill="#333"/><rect x="340" y="231" width="24" height="36" rx="12" fill="#333"/><mask id="a" fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M431.255 339L300 362.374 168.745 339H167.5c16.039 57.017 69.286 98.888 132.5 98.888S416.461 396.017 432.5 339h-1.245z"/></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M431.255 339L300 362.374 168.745 339H167.5c16.039 57.017 69.286 98.888 132.5 98.888S416.461 396.017 432.5 339h-1.245z" fill="#DEDEDE"/><path d="M300 362.374l-.526 2.953.526.094.526-.094-.526-2.953zM431.255 339v-3h-.265l-.261.046.526 2.954zm-262.51 0l.526-2.954-.261-.046h-.265v3zm-1.245 0v-3h-3.96l1.072 3.812L167.5 339zm265 0l2.888.812L436.46 336h-3.96v3zm-131.974 26.327l131.255-23.373-1.052-5.908-131.255 23.374 1.052 5.907zm-132.307-23.373l131.255 23.373 1.052-5.907-131.255-23.374-1.052 5.908zm.526-5.954H167.5v6h1.245v-6zm-4.133 3.812c16.403 58.31 70.829 101.076 135.388 101.076v-6c-61.869 0-113.937-40.976-129.612-96.7l-5.776 1.624zM300 440.888c64.559 0 118.985-42.766 135.388-101.076l-5.776-1.624c-15.675 55.724-67.743 96.7-129.612 96.7v6zM432.5 336h-1.245v6h1.245v-6z" fill="#B06B1C" mask="url(#a)"/><circle cx="300" cy="360" r="12" fill="#333"/></svg>');var n=document.createElement("div");if(r.unstyled||(n.style.cssText=(r.round?"border-radius: 50%;":"")+"align-items:center;"+(r.color?"background-color:"+r.color:"")+(r.textColor?";color:"+r.textColor:"")+';display:flex;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;'+(r.size?"font-size:"+r.size/2+"px;height:"+r.size+"px;":"")+"justify-content:center;margin:0;padding:0;"+(r.size?"width:"+r.size+"px;":"")),n.classList.add("smart-avatar"),r.cssClass){const t=r.cssClass.length;for(let e=0;e<t;e++)n.classList.add(r.cssClass[e])}return r.timestamp&&n.setAttribute("sa_timestamp",Date.now()),n.innerHTML="<span "+(r.unstyled?"":'style="display:flex;"')+">"+e+"</span>",n}function s(t,r,e){if(r.style.opacity=0,"el"===e.type)delete r.onerror,t.appendChild(e.content),t.removeChild(r);else if(r.src=e.content,r.style.opacity=1,!r.src)throw new Error("SmartAvatar ERROR: internal error - img src recursively undefined")}t.exports.renderSA=function(t,r){var o=function(t,r){var o=["mp","identicon","monsterid","wavatar","retro","robohash"],a={};switch(!0){case"smart"===r.priority.src1&&r.initials:a.asset=e("initEl",r),a.finished=!0;break;case"smart"===r.priority.src1&&r.icon&&!o.includes(r.icon):a.asset=e("iconEl",r),a.finished=!0;break;case"smart"===r.priority.src1&&r.icon&&o.includes(r.icon):a.asset=e("iconImg",r),a.finished=!0;break;default:a.asset=function(t,r){var o=function(t){var r=["mp","identicon","monsterid","wavatar","retro","robohash"],o={asset1:{},asset2:{},asset3:{}};o.asset1.content="gravatar"===t.priority.src1?t.gravatarUrl:t.src,o.asset1.type="url";for(var s=2;s<=3;s++){var a="src"+s,i="asset"+s;"gravatar"===t.priority[a]?(o[i].content=t.gravatarUrl,o[i].type="url"):"src"===t.priority[a]?(o[i].content=t.src,o[i].type="url"):"smart"===t.priority[a]&&(t.initials?(o[i].content=e("initEl",t),o[i].type="el"):t.icon&&!r.includes(t.icon)?(o[i].content=e("iconEl",t),o[i].type="el"):t.icon&&r.includes(t.icon)&&(o[i].content=n(t.icon),o[i].type="url"))}return o}(r),a=o.asset1,i=o.asset2,l=o.asset3,c=new Image;c.src=a.content,r.unstyled||(c.style.cssText=(r.round?"border-radius: 50%;":"")+(r.size?"height:"+r.size+"px;width:"+r.size+"px;":"")+"object-fit:cover;");if(c.onerror=function(){s(t,c,i),"el"!==i.type&&(c.onerror=function(){s(t,c,l)})},c.classList.add("smart-avatar"),r.cssClass){const t=r.cssClass.length;for(let e=0;e<t;e++)c.classList.add(r.cssClass[e])}r.timestamp&&c.setAttribute("sa_timestamp",Date.now());r.alt&&(c.alt=r.alt);return c}(t,r),a.finished=!0}return a}(t,r);if(o.finished)return o.asset;throw new Error("SmartAvatar ERROR: something went wrong.")}}]);